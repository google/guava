<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0-google-v4) on Fri Sep 09 10:44:08 EDT 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
CacheBuilder (Guava: Google Core Libraries for Java 10.0-rc1 API)
</TITLE>

<META NAME="date" CONTENT="2011-09-09">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CacheBuilder (Guava: Google Core Libraries for Java 10.0-rc1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CacheBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/google/common/cache/Cache.html" title="interface in com.google.common.cache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/google/common/cache/CacheLoader.html" title="class in com.google.common.cache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/google/common/cache/CacheBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.google.common.cache</FONT>
<BR>
Class CacheBuilder&lt;K,V&gt;</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.google.common.cache.CacheBuilder&lt;K,V&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>K</CODE> - the base key type for all caches created by this builder<DD><CODE>V</CODE> - the base value type for all caches created by this builder</DL>
<HR>
<DL>
<DT><PRE><FONT SIZE="-1"><A HREF="../../../../com/google/common/annotations/Beta.html" title="annotation in com.google.common.annotations">@Beta</A>
</FONT>public final class <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.130"><B>CacheBuilder&lt;K,V&gt;</B></A><DT>extends <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
<p>A builder of <A HREF="../../../../com/google/common/cache/Cache.html" title="interface in com.google.common.cache"><CODE>Cache</CODE></A> instances having any combination of the following features:

 <ul>
 <li>least-recently-used eviction when a maximum size is exceeded
 <li>time-based expiration of entries, measured since last access or last write
 <li>keys automatically wrapped in <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref">weak</A> references
 <li>values automatically wrapped in <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref">weak</A> or
     <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref">soft</A> references
 <li>notification of evicted (or otherwise removed) entries
 </ul>

 <p>Usage example: <pre>   <code>Cache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()
       .concurrencyLevel(4)
       .weakKeys()
       .maximumSize(10000)
       .expireAfterWrite(10, TimeUnit.MINUTES)
       .build(
           new CacheLoader&lt;Key, Graph&gt;() {
             public Graph load(Key key) throws AnyException {
               return createExpensiveGraph(key);
             }
           });</code></pre>


 These features are all optional.

 <p>The returned cache is implemented as a hash table with similar performance characteristics to
 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent"><CODE>ConcurrentHashMap</CODE></A>. It implements the optional operations <A HREF="../../../../com/google/common/cache/Cache.html#invalidate(java.lang.Object)"><CODE>Cache.invalidate(java.lang.Object)</CODE></A>,
 <A HREF="../../../../com/google/common/cache/Cache.html#invalidateAll()"><CODE>Cache.invalidateAll()</CODE></A>, <A HREF="../../../../com/google/common/cache/Cache.html#size()"><CODE>Cache.size()</CODE></A>, <A HREF="../../../../com/google/common/cache/Cache.html#stats()"><CODE>Cache.stats()</CODE></A>, and <A HREF="../../../../com/google/common/cache/Cache.html#asMap()"><CODE>Cache.asMap()</CODE></A>,
 with the following qualifications:

 <ul>
 <li>The <code>invalidateAll</code> method will invalidate all cached entries prior to returning, and
     removal notifications will be issued for all invalidated entries.
 <li>The <code>asMap</code> view supports removal operations, but no other modifications.
 <li>The <code>asMap</code> view (and its collection views) have <i>weakly consistent iterators</i>.
     This means that they are safe for concurrent use, but if other threads modify the cache after
     the iterator is created, it is undefined which of these changes, if any, are reflected in
     that iterator. These iterators never throw <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util"><CODE>ConcurrentModificationException</CODE></A>.
 </ul>

 <p><b>Note:</b> by default, the returned cache uses equality comparisons (the
 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang"><CODE>equals</CODE></A> method) to determine equality for keys or values. However, if
 <A HREF="../../../../com/google/common/cache/CacheBuilder.html#weakKeys()"><CODE>weakKeys()</CODE></A> was specified, the cache uses identity (<code>==</code>)
 comparisons instead for keys. Likewise, if <A HREF="../../../../com/google/common/cache/CacheBuilder.html#weakValues()"><CODE>weakValues()</CODE></A> or <A HREF="../../../../com/google/common/cache/CacheBuilder.html#softValues()"><CODE>softValues()</CODE></A> was
 specified, the cache uses identity comparisons for values.

 <p>If soft or weak references were requested, it is possible for a key or value present in the
 the cache to be reclaimed by the garbage collector. If this happens, the entry automatically
 disappears from the cache. A partially-reclaimed entry is never exposed to the user.

 <p>Certain cache configurations will result in the accrual of periodic maintenance tasks which
 will be performed during write operations, or during occasional read operations in the absense of
 writes. The <A HREF="../../../../com/google/common/cache/Cache.html#cleanUp()"><CODE>Cache.cleanUp()</CODE></A> method of the returned cache will also perform maintenance, but
 calling it should not be necessary with a high throughput cache. Only caches built with
 <A HREF="../../../../com/google/common/cache/CacheBuilder.html#removalListener">removalListener</A>,
 <A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)">expireAfterWrite</A>,
 <A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)">expireAfterAccess</A>,
 <A HREF="../../../../com/google/common/cache/CacheBuilder.html#weakKeys()">weakKeys</A>, <A HREF="../../../../com/google/common/cache/CacheBuilder.html#weakValues()">weakValues</A>,
 or <A HREF="../../../../com/google/common/cache/CacheBuilder.html#softValues()">softValues</A> perform periodic maintenance.

 <p>The caches produced by <code>CacheBuilder</code> are serializable, and the deserialized caches
 retain all the configuration properties of the original cache.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>10.0</DD>
<DT><B>Author:</B></DT>
  <DD>Charles Fry, Kevin Bourrillion</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;K1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,V1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; 
<BR>
<A HREF="../../../../com/google/common/cache/Cache.html" title="interface in com.google.common.cache">Cache</A>&lt;K1,V1&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#build(com.google.common.cache.CacheLoader)">build</A></B>(<A HREF="../../../../com/google/common/cache/CacheLoader.html" title="class in com.google.common.cache">CacheLoader</A>&lt;? super K1,V1&gt;&nbsp;loader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Builds a cache, which either returns an already-loaded value for a given key or atomically
 computes or retrieves it using the supplied <code>CacheLoader</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#concurrencyLevel(int)">concurrencyLevel</A></B>(int&nbsp;concurrencyLevel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Guides the allowed concurrency among update operations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)">expireAfterAccess</A></B>(long&nbsp;duration,
                                   <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies that each entry should be automatically removed from the cache once a fixed duration
 has elapsed after the entry's creation, or last access.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)">expireAfterWrite</A></B>(long&nbsp;duration,
                                 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies that each entry should be automatically removed from the cache once a fixed duration
 has elapsed after the entry's creation, or the most recent replacement of its value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#initialCapacity(int)">initialCapacity</A></B>(int&nbsp;initialCapacity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the minimum total size for the internal hash tables.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#maximumSize(int)">maximumSize</A></B>(int&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies the maximum number of entries the cache may contain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>,<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#newBuilder()">newBuilder</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new <code>CacheBuilder</code> instance with default settings, including strong keys,
 strong values, and no automatic eviction of any kind.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;K1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,V1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; 
<BR>
<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;K1,V1&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#removalListener(com.google.common.cache.RemovalListener)">removalListener</A></B>(<A HREF="../../../../com/google/common/cache/RemovalListener.html" title="interface in com.google.common.cache">RemovalListener</A>&lt;K1,V1&gt;&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies a listener instance, which all caches built using this <code>CacheBuilder</code> will
 notify each time an entry is removed from the cache by any means.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#softValues()">softValues</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies that each value (not key) stored in the cache should be wrapped in a
 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref"><CODE>SoftReference</CODE></A> (by default, strong references are used).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#ticker(com.google.common.base.Ticker)">ticker</A></B>(<A HREF="../../../../com/google/common/base/Ticker.html" title="class in com.google.common.base">Ticker</A>&nbsp;ticker)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies a nanosecond-precision time source for use in determining when entries should be
 expired.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string representation for this CacheBuilder instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#weakKeys()">weakKeys</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies that each key (not value) stored in the cache should be wrapped in a <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref"><CODE>WeakReference</CODE></A> (by default, strong references are used).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/google/common/cache/CacheBuilder.html#weakValues()">weakValues</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies that each value (not key) stored in the cache should be wrapped in a
 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref"><CODE>WeakReference</CODE></A> (by default, strong references are used).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="newBuilder()"><!-- --></A><H3>
newBuilder</H3>
<PRE>
public static <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>,<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.202"><B>newBuilder</B></A>()</PRE>
<DL>
<DD>Constructs a new <code>CacheBuilder</code> instance with default settings, including strong keys,
 strong values, and no automatic eviction of any kind.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initialCapacity(int)"><!-- --></A><H3>
initialCapacity</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.254"><B>initialCapacity</B></A>(int&nbsp;initialCapacity)</PRE>
<DL>
<DD>Sets the minimum total size for the internal hash tables. For example, if the initial capacity
 is <code>60</code>, and the concurrency level is <code>8</code>, then eight segments are created, each
 having a hash table of size eight. Providing a large enough estimate at construction time
 avoids the need for expensive resizing operations later, but setting this value unnecessarily
 high wastes memory.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>initialCapacity</code> is negative
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if an initial capacity was already set</DL>
</DD>
</DL>
<HR>

<A NAME="concurrencyLevel(int)"><!-- --></A><H3>
concurrencyLevel</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.284"><B>concurrencyLevel</B></A>(int&nbsp;concurrencyLevel)</PRE>
<DL>
<DD>Guides the allowed concurrency among update operations. Used as a hint for internal sizing. The
 table is internally partitioned to try to permit the indicated number of concurrent updates
 without contention. Because assignment of entries to these partitions is not necessarily
 uniform, the actual concurrency observed may vary. Ideally, you should choose a value to
 accommodate as many threads as will ever concurrently modify the table. Using a significantly
 higher value than you need can waste space and time, and a significantly lower value can lead
 to thread contention. But overestimates and underestimates within an order of magnitude do not
 usually have much noticeable impact. A value of one permits only one thread to modify the cache
 at a time, but since read operations can proceed concurrently, this still yields higher
 concurrency than full synchronization. Defaults to 4.

 <p><b>Note:</b>The default may change in the future. If you care about this value, you should
 always choose it explicitly.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>concurrencyLevel</code> is nonpositive
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if a concurrency level was already set</DL>
</DD>
</DL>
<HR>

<A NAME="maximumSize(int)"><!-- --></A><H3>
maximumSize</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.311"><B>maximumSize</B></A>(int&nbsp;size)</PRE>
<DL>
<DD>Specifies the maximum number of entries the cache may contain. Note that the cache <b>may evict
 an entry before this limit is exceeded</b>. As the cache size grows close to the maximum, the
 cache evicts entries that are less likely to be used again. For example, the cache may evict an
 entry because it hasn't been used recently or very often.

 <p>When <code>size</code> is zero, elements will be evicted immediately after being loaded into the
 cache. This has the same effect as invoking <A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)"><CODE>expireAfterWrite</CODE></A><code>(0, unit)</code> or <A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)"><CODE>expireAfterAccess</CODE></A><code>(0,
 unit)</code>. It can be useful in testing, or to disable caching temporarily without a code change.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>size</CODE> - the maximum size of the cache
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>size</code> is negative
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if a maximum size was already set</DL>
</DD>
</DL>
<HR>

<A NAME="weakKeys()"><!-- --></A><H3>
weakKeys</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.345"><B>weakKeys</B></A>()</PRE>
<DL>
<DD>Specifies that each key (not value) stored in the cache should be wrapped in a <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref"><CODE>WeakReference</CODE></A> (by default, strong references are used).

 <p><b>Warning:</b> when this method is used, the resulting cache will use identity (<code>==</code>)
 comparison to determine equality of keys.

 <p>Entries with keys that have been garbage collected may be counted by <A HREF="../../../../com/google/common/cache/Cache.html#size()"><CODE>Cache.size()</CODE></A>, but
 will never be visible to read or write operations. Entries with garbage collected keys are
 cleaned up as part of the routine maintenance described in the class javadoc.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the key strength was already set</DL>
</DD>
</DL>
<HR>

<A NAME="weakValues()"><!-- --></A><H3>
weakValues</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.384"><B>weakValues</B></A>()</PRE>
<DL>
<DD>Specifies that each value (not key) stored in the cache should be wrapped in a
 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref"><CODE>WeakReference</CODE></A> (by default, strong references are used).

 <p>Weak values will be garbage collected once they are weakly reachable. This makes them a poor
 candidate for caching; consider <A HREF="../../../../com/google/common/cache/CacheBuilder.html#softValues()"><CODE>softValues()</CODE></A> instead.

 <p><b>Note:</b> when this method is used, the resulting cache will use identity (<code>==</code>)
 comparison to determine equality of values.

 <p>Entries with values that have been garbage collected may be counted by <A HREF="../../../../com/google/common/cache/Cache.html#size()"><CODE>Cache.size()</CODE></A>,
 but will never be visible to read or write operations. Entries with garbage collected keys are
 cleaned up as part of the routine maintenance described in the class javadoc.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the value strength was already set</DL>
</DD>
</DL>
<HR>

<A NAME="softValues()"><!-- --></A><H3>
softValues</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.407"><B>softValues</B></A>()</PRE>
<DL>
<DD>Specifies that each value (not key) stored in the cache should be wrapped in a
 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref"><CODE>SoftReference</CODE></A> (by default, strong references are used). Softly-referenced objects will
 be garbage-collected in a <i>globally</i> least-recently-used manner, in response to memory
 demand.

 <p><b>Warning:</b> in most circumstances it is better to set a per-cache <A HREF="../../../../com/google/common/cache/CacheBuilder.html#maximumSize">maximum size</A> instead of using soft references. You should only use this method if
 you are well familiar with the practical consequences of soft references.

 <p><b>Note:</b> when this method is used, the resulting cache will use identity (<code>==</code>)
 comparison to determine equality of values.

 <p>Entries with values that have been garbage collected may be counted by <A HREF="../../../../com/google/common/cache/Cache.html#size()"><CODE>Cache.size()</CODE></A>,
 but will never be visible to read or write operations. Entries with garbage collected values
 are cleaned up as part of the routine maintenance described in the class javadoc.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the value strength was already set</DL>
</DD>
</DL>
<HR>

<A NAME="expireAfterWrite(long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
expireAfterWrite</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.439"><B>expireAfterWrite</B></A>(long&nbsp;duration,
                                          <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</PRE>
<DL>
<DD>Specifies that each entry should be automatically removed from the cache once a fixed duration
 has elapsed after the entry's creation, or the most recent replacement of its value.

 <p>When <code>duration</code> is zero, elements will be evicted immediately after being loaded into
 the cache. This has the same effect as invoking <A HREF="../../../../com/google/common/cache/CacheBuilder.html#maximumSize"><CODE>maximumSize</CODE></A><code>(0)</code>. It
 can be useful in testing, or to disable caching temporarily without a code change.

 <p>Expired entries may be counted by <A HREF="../../../../com/google/common/cache/Cache.html#size()"><CODE>Cache.size()</CODE></A>, but will never be visible to read or
 write operations. Expired entries are cleaned up as part of the routine maintenance described
 in the class javadoc.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>duration</CODE> - the length of time after an entry is created that it should be automatically
     removed<DD><CODE>unit</CODE> - the unit that <code>duration</code> is expressed in
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>duration</code> is negative
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the time to live or time to idle was already set</DL>
</DD>
</DL>
<HR>

<A NAME="expireAfterAccess(long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
expireAfterAccess</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.481"><B>expireAfterAccess</B></A>(long&nbsp;duration,
                                           <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</PRE>
<DL>
<DD>Specifies that each entry should be automatically removed from the cache once a fixed duration
 has elapsed after the entry's creation, or last access. Access time is reset by
 <A HREF="../../../../com/google/common/cache/Cache.html#get(K)"><CODE>Cache.get(K)</CODE></A> and <A HREF="../../../../com/google/common/cache/Cache.html#getUnchecked(K)"><CODE>Cache.getUnchecked(K)</CODE></A>, but not by operations on the view returned by
 <A HREF="../../../../com/google/common/cache/Cache.html#asMap()"><CODE>Cache.asMap()</CODE></A>.

 <p>When <code>duration</code> is zero, elements will be evicted immediately after being loaded into
 the cache. This has the same effect as invoking <A HREF="../../../../com/google/common/cache/CacheBuilder.html#maximumSize"><CODE>maximumSize</CODE></A><code>(0)</code>. It
 can be useful in testing, or to disable caching temporarily without a code change.

 <p>Expired entries may be counted by <A HREF="../../../../com/google/common/cache/Cache.html#size()"><CODE>Cache.size()</CODE></A>, but will never be visible to read or
 write operations. Expired entries are cleaned up as part of the routine maintenance described
 in the class javadoc.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>duration</CODE> - the length of time after an entry is last accessed that it should be
     automatically removed<DD><CODE>unit</CODE> - the unit that <code>duration</code> is expressed in
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>duration</code> is negative
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the time to idle or time to live was already set</DL>
</DD>
</DL>
<HR>

<A NAME="ticker(com.google.common.base.Ticker)"><!-- --></A><H3>
ticker</H3>
<PRE>
public <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,<A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.505"><B>ticker</B></A>(<A HREF="../../../../com/google/common/base/Ticker.html" title="class in com.google.common.base">Ticker</A>&nbsp;ticker)</PRE>
<DL>
<DD>Specifies a nanosecond-precision time source for use in determining when entries should be
 expired. By default, <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/System.html?is-external=true#nanoTime()" title="class or interface in java.lang"><CODE>System.nanoTime()</CODE></A> is used.

 <p>The primary intent of this method is to facilitate testing of caches which have been
 configured with <A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)"><CODE>expireAfterWrite(long, java.util.concurrent.TimeUnit)</CODE></A> or <A HREF="../../../../com/google/common/cache/CacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)"><CODE>expireAfterAccess(long, java.util.concurrent.TimeUnit)</CODE></A>.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if a ticker was already set</DL>
</DD>
</DL>
<HR>

<A NAME="removalListener(com.google.common.cache.RemovalListener)"><!-- --></A><H3>
removalListener</H3>
<PRE>
<FONT SIZE="-1"><A HREF="http://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/CheckReturnValue.html?is-external=true" title="class or interface in javax.annotation">@CheckReturnValue</A>
</FONT>public &lt;K1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,V1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</A>&lt;K1,V1&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.540"><B>removalListener</B></A>(<A HREF="../../../../com/google/common/cache/RemovalListener.html" title="interface in com.google.common.cache">RemovalListener</A>&lt;K1,V1&gt;&nbsp;listener)</PRE>
<DL>
<DD>Specifies a listener instance, which all caches built using this <code>CacheBuilder</code> will
 notify each time an entry is removed from the cache by any means.

 <p>Each cache built by this <code>CacheBuilder</code> after this method is called invokes the
 supplied listener after removing an element for any reason (see removal causes in <A HREF="../../../../com/google/common/cache/RemovalCause.html" title="enum in com.google.common.cache"><CODE>RemovalCause</CODE></A>). It will invoke the listener as part of the routine maintenance described
 in the class javadoc.

 <p><b>Important note:</b> Instead of returning <em>this</em> as a <code>CacheBuilder</code>
 instance, this method returns <code>CacheBuilder&lt;K1, V1&gt;</code>. From this point on, either the
 original reference or the returned reference may be used to complete configuration and build
 the cache, but only the "generic" one is type-safe. That is, it will properly prevent you from
 building caches whose key or value types are incompatible with the types accepted by the
 listener already provided; the <code>CacheBuilder</code> type cannot do this. For best results,
 simply use the standard method-chaining idiom, as illustrated in the documentation at top,
 configuring a <code>CacheBuilder</code> and building your <A HREF="../../../../com/google/common/cache/Cache.html" title="interface in com.google.common.cache"><CODE>Cache</CODE></A> all in a single statement.

 <p><b>Warning:</b> if you ignore the above advice, and use this <code>CacheBuilder</code> to build
 a cache whose key or value type is incompatible with the listener, you will likely experience
 a <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang"><CODE>ClassCastException</CODE></A> at some <i>undefined</i> point in the future.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if a removal listener was already set</DL>
</DD>
</DL>
<HR>

<A NAME="build(com.google.common.cache.CacheLoader)"><!-- --></A><H3>
build</H3>
<PRE>
public &lt;K1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">K</A>,V1 extends <A HREF="../../../../com/google/common/cache/CacheBuilder.html" title="type parameter in CacheBuilder">V</A>&gt; <A HREF="../../../../com/google/common/cache/Cache.html" title="interface in com.google.common.cache">Cache</A>&lt;K1,V1&gt; <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.569"><B>build</B></A>(<A HREF="../../../../com/google/common/cache/CacheLoader.html" title="class in com.google.common.cache">CacheLoader</A>&lt;? super K1,V1&gt;&nbsp;loader)</PRE>
<DL>
<DD>Builds a cache, which either returns an already-loaded value for a given key or atomically
 computes or retrieves it using the supplied <code>CacheLoader</code>. If another thread is currently
 loading the value for this key, simply waits for that thread to finish and returns its
 loaded value. Note that multiple threads can concurrently load values for distinct keys.

 <p>This method does not alter the state of this <code>CacheBuilder</code> instance, so it can be
 invoked again to create multiple independent caches.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>loader</CODE> - the cache loader used to obtain new values
<DT><B>Returns:</B><DD>a cache having the requested features</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/com/google/common/cache/CacheBuilder.html#line.580"><B>toString</B></A>()</PRE>
<DL>
<DD>Returns a string representation for this CacheBuilder instance. The exact form of the returned
 string is not specificed.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A></CODE> in class <CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CacheBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/google/common/cache/Cache.html" title="interface in com.google.common.cache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/google/common/cache/CacheLoader.html" title="class in com.google.common.cache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/google/common/cache/CacheBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2010-2011. All Rights Reserved.
</BODY>
</HTML>
