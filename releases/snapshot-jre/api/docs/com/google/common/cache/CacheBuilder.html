<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (25) -->
<title>CacheBuilder (Guava: Google Core Libraries for Java 999.0.0-HEAD-jre-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.google.common.cache, class: CacheBuilder">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CacheBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.google.common.cache</a></li>
<li><a href="CacheBuilder.html" class="current-selection">CacheBuilder</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#prefer-caffeine-over-guava-s-caching-api-heading" tabindex="0">Prefer Caffeine over Guava's caching
API</a></li>
<li><a href="#more-on-cachebuilder-heading" tabindex="0">More on CacheBuilder</a></li>
</ol>
</li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#newBuilder()" tabindex="0">newBuilder()</a></li>
<li><a href="#from(com.google.common.cache.CacheBuilderSpec)" tabindex="0">from(CacheBuilderSpec)</a></li>
<li><a href="#from(java.lang.String)" tabindex="0">from(String)</a></li>
<li><a href="#initialCapacity(int)" tabindex="0">initialCapacity(int)</a></li>
<li><a href="#concurrencyLevel(int)" tabindex="0">concurrencyLevel(int)</a></li>
<li><a href="#maximumSize(long)" tabindex="0">maximumSize(long)</a></li>
<li><a href="#maximumWeight(long)" tabindex="0">maximumWeight(long)</a></li>
<li><a href="#weigher(com.google.common.cache.Weigher)" tabindex="0">weigher(Weigher)</a></li>
<li><a href="#weakKeys()" tabindex="0">weakKeys()</a></li>
<li><a href="#weakValues()" tabindex="0">weakValues()</a></li>
<li><a href="#softValues()" tabindex="0">softValues()</a></li>
<li><a href="#expireAfterWrite(java.time.Duration)" tabindex="0">expireAfterWrite(Duration)</a></li>
<li><a href="#expireAfterWrite(long,java.util.concurrent.TimeUnit)" tabindex="0">expireAfterWrite(long, TimeUnit)</a></li>
<li><a href="#expireAfterAccess(java.time.Duration)" tabindex="0">expireAfterAccess(Duration)</a></li>
<li><a href="#expireAfterAccess(long,java.util.concurrent.TimeUnit)" tabindex="0">expireAfterAccess(long, TimeUnit)</a></li>
<li><a href="#refreshAfterWrite(java.time.Duration)" tabindex="0">refreshAfterWrite(Duration)</a></li>
<li><a href="#refreshAfterWrite(long,java.util.concurrent.TimeUnit)" tabindex="0">refreshAfterWrite(long, TimeUnit)</a></li>
<li><a href="#ticker(com.google.common.base.Ticker)" tabindex="0">ticker(Ticker)</a></li>
<li><a href="#removalListener(com.google.common.cache.RemovalListener)" tabindex="0">removalListener(RemovalListener)</a></li>
<li><a href="#recordStats()" tabindex="0">recordStats()</a></li>
<li><a href="#build(com.google.common.cache.CacheLoader)" tabindex="0">build(CacheLoader)</a></li>
<li><a href="#build()" tabindex="0">build()</a></li>
<li><a href="#toString()" tabindex="0">toString()</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class CacheBuilder" class="title">Class CacheBuilder&lt;K,<wbr>V&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.google.common.cache.CacheBuilder&lt;K,<wbr>V&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="type-param-K"><code>K</code> - the most general key type this builder will be able to create caches for. This is
    normally <code>Object</code> unless it is constrained by using a method like <code>removalListener</code>. Cache keys may not be null.</span></dd>
<dd><span id="type-param-V"><code>V</code> - the most general value type this builder will be able to create caches for. This is
    normally <code>Object</code> unless it is constrained by using a method like <code>removalListener</code>. Cache values may not be null.</span></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="annotations"><a href="../annotations/GwtCompatible.html" title="annotation in com.google.common.annotations">@GwtCompatible</a>
</span><span class="modifiers">public final class </span><span class="element-name type-name-label">CacheBuilder&lt;K,<wbr>V&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A builder of <a href="LoadingCache.html" title="interface in com.google.common.cache"><code>LoadingCache</code></a> and <a href="Cache.html" title="interface in com.google.common.cache"><code>Cache</code></a> instances.

<h2 id="prefer-caffeine-over-guava-s-caching-api-heading">Prefer <a href="https://github.com/ben-manes/caffeine/wiki">Caffeine</a> over Guava's caching
API</h2>

<p>The successor to Guava's caching API is <a href="https://github.com/ben-manes/caffeine/wiki">Caffeine</a>. Its API is designed to make it a
nearly drop-in replacement. Note that it is not available for Android or GWT/J2CL and that it may
have <a href="https://github.com/ben-manes/caffeine/wiki/Guava">different (usually better)
behavior</a> when multiple threads attempt concurrent mutations. Its equivalent to <code>
CacheBuilder</code> is its <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/Caffeine.html"><code>
Caffeine</code></a> class. Caffeine offers better performance, more features (including asynchronous
loading), and fewer <a href="https://github.com/google/guava/issues?q=is%3Aopen+is%3Aissue+label%3Apackage%3Dcache+label%3Atype%3Ddefect">bugs</a>.

<p>Caffeine defines its own interfaces (<a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/Cache.html"><code>
Cache</code></a>, <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/LoadingCache.html"><code>
LoadingCache</code></a>, <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/CacheLoader.html"><code>
CacheLoader</code></a>, etc.), so you can use Caffeine without needing to use any Guava types.
Caffeine's types are better than Guava's, especially for <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/AsyncLoadingCache.html">their
deep support for asynchronous operations</a>. But if you want to migrate to Caffeine with minimal
code changes, you can use <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/guava/latest/com.github.benmanes.caffeine.guava/com/github/benmanes/caffeine/guava/CaffeinatedGuava.html">its
<code>CaffeinatedGuava</code> adapter class</a>, which lets you build a Guava <code>Cache</code> or a Guava
<code>LoadingCache</code> backed by a Guava <code>CacheLoader</code>.

<p>Caffeine's API for asynchronous operations uses <code>CompletableFuture</code>: <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/AsyncLoadingCache.html#get(K)"><code>
AsyncLoadingCache.get</code></a> returns a <code>CompletableFuture</code>, and implementations of <a href="https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/AsyncCacheLoader.html#asyncLoad(K,java.util.concurrent.Executor)"><code>
AsyncCacheLoader.asyncLoad</code></a> must return a <code>CompletableFuture</code>. Users of Guava's <a href="../util/concurrent/ListenableFuture.html" title="interface in com.google.common.util.concurrent"><code>ListenableFuture</code></a> can adapt between the two <code>Future</code>
types by using <a href="https://github.com/lukas-krecan/future-converter#java8-guava"><code>
net.javacrumbs.futureconverter.java8guava.FutureConverter</code></a>.

<h2 id="more-on-cachebuilder-heading">More on <code>CacheBuilder</code></h2>

<code>CacheBuilder</code> builds caches with any combination of the following features:

<ul>
  <li>automatic loading of entries into the cache
  <li>least-recently-used eviction when a maximum size is exceeded (note that the cache is
      divided into segments, each of which does LRU internally)
  <li>time-based expiration of entries, measured since last access or last write
  <li>keys automatically wrapped in <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link">weak</a> references
  <li>values automatically wrapped in <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link">weak</a> or <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/SoftReference.html" title="class or interface in java.lang.ref" class="external-link">soft</a> references
  <li>notification of evicted (or otherwise removed) entries
  <li>accumulation of cache access statistics
</ul>

<p>These features are all optional; caches can be created using all or none of them. By default,
cache instances created by <code>CacheBuilder</code> will not perform any type of eviction.

<p>Usage example:

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.google.common.cache.CacheBuilder1"><code class="language-java">LoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()
    .maximumSize(10000)
    .expireAfterWrite(Duration.ofMinutes(10))
    .removalListener(MY_LISTENER)
    .build(
        new CacheLoader&lt;Key, Graph&gt;() {
          public Graph load(Key key) throws AnyException {
            return createExpensiveGraph(key);
          }
        });
</code></pre>
</div>


<p>Or equivalently,

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.google.common.cache.CacheBuilder2"><code class="language-java">// In real life this would come from a command-line flag or config file
String spec = "maximumSize=10000,expireAfterWrite=10m";

LoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.from(spec)
    .removalListener(MY_LISTENER)
    .build(
        new CacheLoader&lt;Key, Graph&gt;() {
          public Graph load(Key key) throws AnyException {
            return createExpensiveGraph(key);
          }
        });
</code></pre>
</div>


<p>The returned cache implements all optional operations of the <a href="LoadingCache.html" title="interface in com.google.common.cache"><code>LoadingCache</code></a> and <a href="Cache.html" title="interface in com.google.common.cache"><code>Cache</code></a> interfaces. The <code>asMap</code> view (and its collection views) have <i>weakly consistent
iterators</i>. This means that they are safe for concurrent use, but if other threads modify the
cache after the iterator is created, it is undefined which of these changes, if any, are
reflected in that iterator. These iterators never throw <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ConcurrentModificationException.html" title="class or interface in java.util" class="external-link"><code>ConcurrentModificationException</code></a>.

<p><b>Note:</b> by default, the returned cache uses equality comparisons (the <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link"><code>equals</code></a> method) to determine equality for keys or values. However, if <a href="#weakKeys()"><code>weakKeys()</code></a> was specified, the cache uses identity (<code>==</code>) comparisons instead for keys.
Likewise, if <a href="#weakValues()"><code>weakValues()</code></a> or <a href="#softValues()"><code>softValues()</code></a> was specified, the cache uses identity
comparisons for values.

<p>Entries are automatically evicted from the cache when any of <a href="#maximumSize(long)"><code>maximumSize</code></a>, <a href="#maximumWeight(long)"><code>maximumWeight</code></a>, <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite</code></a>, <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess</code></a>, <a href="#weakKeys()"><code>weakKeys</code></a>,
<a href="#weakValues()"><code>weakValues</code></a>, or <a href="#softValues()"><code>softValues</code></a> are requested.

<p>If <a href="#maximumSize(long)"><code>maximumSize</code></a> or <a href="#maximumWeight(long)"><code>maximumWeight</code></a> is
requested entries may be evicted on each cache modification.

<p>If <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite</code></a> or <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess</code></a>
is requested entries may be evicted on each cache modification, on occasional cache accesses, or
on calls to <a href="Cache.html#cleanUp()"><code>Cache.cleanUp()</code></a>. Expired entries may be counted by <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will
never be visible to read or write operations.

<p>If <a href="#weakKeys()"><code>weakKeys</code></a>, <a href="#weakValues()"><code>weakValues</code></a>, or <a href="#softValues()"><code>softValues</code></a> are requested, it is possible for a key or value present in the cache to be reclaimed
by the garbage collector. Entries with reclaimed keys or values may be removed from the cache on
each cache modification, on occasional cache accesses, or on calls to <a href="Cache.html#cleanUp()"><code>Cache.cleanUp()</code></a>; such
entries may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will never be visible to read or write
operations.

<p>Certain cache configurations will result in the accrual of periodic maintenance tasks which
will be performed during write operations, or during occasional read operations in the absence of
writes. The <a href="Cache.html#cleanUp()"><code>Cache.cleanUp()</code></a> method of the returned cache will also perform maintenance, but
calling it should not be necessary with a high throughput cache. Only caches built with <code>removalListener</code>, <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite</code></a>, <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess</code></a>, <a href="#weakKeys()"><code>weakKeys</code></a>, <a href="#weakValues()"><code>weakValues</code></a>, or <a href="#softValues()"><code>softValues</code></a> perform periodic maintenance.

<p>The caches produced by <code>CacheBuilder</code> are serializable, and the deserialized caches
retain all the configuration properties of the original cache. Note that the serialized form does
<i>not</i> include cache contents, but only configuration.

<p>See the Guava User Guide article on <a href="https://github.com/google/guava/wiki/CachesExplained">caching</a> for a higher-level
explanation.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>10.0</dd>
<dt>Author:</dt>
<dd>Charles Fry, Kevin Bourrillion</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="Cache.html" title="interface in com.google.common.cache">Cache</a><wbr>&lt;K1,<wbr>V1&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#build()" class="member-name-link">build</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Builds a cache which does not automatically load values when keys are requested.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="LoadingCache.html" title="interface in com.google.common.cache">LoadingCache</a><wbr>&lt;K1,<wbr>V1&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#build(com.google.common.cache.CacheLoader)" class="member-name-link">build</a><wbr>(<a href="CacheLoader.html" title="class in com.google.common.cache">CacheLoader</a>&lt;? super K1, V1&gt;&nbsp;loader)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Builds a cache, which either returns an already-loaded value for a given key or atomically
computes or retrieves it using the supplied <code>CacheLoader</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#concurrencyLevel(int)" class="member-name-link">concurrencyLevel</a><wbr>(int&nbsp;concurrencyLevel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guides the allowed concurrency among update operations.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#expireAfterAccess(long,java.util.concurrent.TimeUnit)" class="member-name-link">expireAfterAccess</a><wbr>(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess(Duration)</code></a> instead.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireAfterAccess(java.time.Duration)" class="member-name-link">expireAfterAccess</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each entry should be automatically removed from the cache once a fixed duration
has elapsed after the entry's creation, the most recent replacement of its value, or its last
access.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#expireAfterWrite(long,java.util.concurrent.TimeUnit)" class="member-name-link">expireAfterWrite</a><wbr>(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite(Duration)</code></a> instead.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireAfterWrite(java.time.Duration)" class="member-name-link">expireAfterWrite</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each entry should be automatically removed from the cache once a fixed duration
has elapsed after the entry's creation, or the most recent replacement of its value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#from(com.google.common.cache.CacheBuilderSpec)" class="member-name-link">from</a><wbr>(<a href="CacheBuilderSpec.html" title="class in com.google.common.cache">CacheBuilderSpec</a>&nbsp;spec)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Constructs a new <code>CacheBuilder</code> instance with the settings specified in <code>spec</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#from(java.lang.String)" class="member-name-link">from</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;spec)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Constructs a new <code>CacheBuilder</code> instance with the settings specified in <code>spec</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initialCapacity(int)" class="member-name-link">initialCapacity</a><wbr>(int&nbsp;initialCapacity)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the minimum total size for the internal hash tables.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maximumSize(long)" class="member-name-link">maximumSize</a><wbr>(long&nbsp;maximumSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the maximum number of entries the cache may contain.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maximumWeight(long)" class="member-name-link">maximumWeight</a><wbr>(long&nbsp;maximumWeight)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the maximum weight of entries the cache may contain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#newBuilder()" class="member-name-link">newBuilder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Constructs a new <code>CacheBuilder</code> instance with default settings, including strong keys,
strong values, and no automatic eviction of any kind.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recordStats()" class="member-name-link">recordStats</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enable the accumulation of <a href="CacheStats.html" title="class in com.google.common.cache"><code>CacheStats</code></a> during the operation of the cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#refreshAfterWrite(long,java.util.concurrent.TimeUnit)" class="member-name-link">refreshAfterWrite</a><wbr>(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#refreshAfterWrite(java.time.Duration)"><code>refreshAfterWrite(Duration)</code></a> instead.</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#refreshAfterWrite(java.time.Duration)" class="member-name-link">refreshAfterWrite</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that active entries are eligible for automatic refresh once a fixed duration has
elapsed after the entry's creation, or the most recent replacement of its value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;K1,<wbr>V1&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removalListener(com.google.common.cache.RemovalListener)" class="member-name-link">removalListener</a><wbr>(<a href="RemovalListener.html" title="interface in com.google.common.cache">RemovalListener</a>&lt;? super K1, ? super V1&gt;&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies a listener instance that caches should notify each time an entry is removed for any
<a href="RemovalCause.html" title="enum in com.google.common.cache">reason</a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#softValues()" class="member-name-link">softValues</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/SoftReference.html" title="class or interface in java.lang.ref" class="external-link"><code>SoftReference</code></a> (by default, strong references are used).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#ticker(com.google.common.base.Ticker)" class="member-name-link">ticker</a><wbr>(<a href="../base/Ticker.html" title="class in com.google.common.base">Ticker</a>&nbsp;ticker)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies a nanosecond-precision time source for this cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a string representation for this CacheBuilder instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#weakKeys()" class="member-name-link">weakKeys</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#weakValues()" class="member-name-link">weakValues</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a><wbr>&lt;K1,<wbr>V1&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#weigher(com.google.common.cache.Weigher)" class="member-name-link">weigher</a><wbr>(<a href="Weigher.html" title="interface in com.google.common.cache">Weigher</a>&lt;? super K1, ? super V1&gt;&nbsp;weigher)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the weigher to use in determining the weight of entries.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="newBuilder()">
<h3>newBuilder</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">newBuilder</span>()</div>
<div class="block">Constructs a new <code>CacheBuilder</code> instance with default settings, including strong keys,
strong values, and no automatic eviction of any kind.

<p>Note that while this return type is <code>CacheBuilder&lt;Object, Object&gt;</code>, type parameters on
the <a href="#build(com.google.common.cache.CacheLoader)"><code>build(CacheLoader)</code></a> methods allow you to create a cache of any key and value type desired.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="from(com.google.common.cache.CacheBuilderSpec)">
<h3>from</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">from</span><wbr><span class="parameters">(<a href="CacheBuilderSpec.html" title="class in com.google.common.cache">CacheBuilderSpec</a>&nbsp;spec)</span></div>
<div class="block">Constructs a new <code>CacheBuilder</code> instance with the settings specified in <code>spec</code>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>12.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="from(java.lang.String)">
<h3>from</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</span>&nbsp;<span class="element-name">from</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;spec)</span></div>
<div class="block">Constructs a new <code>CacheBuilder</code> instance with the settings specified in <code>spec</code>.
This is especially useful for command-line configuration of a <code>CacheBuilder</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>spec</code> - a String in the format specified by <a href="CacheBuilderSpec.html" title="class in com.google.common.cache"><code>CacheBuilderSpec</code></a></dd>
<dt>Since:</dt>
<dd>12.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="initialCapacity(int)">
<h3>initialCapacity</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">initialCapacity</span><wbr><span class="parameters">(int&nbsp;initialCapacity)</span></div>
<div class="block">Sets the minimum total size for the internal hash tables. For example, if the initial capacity
is <code>60</code>, and the concurrency level is <code>8</code>, then eight segments are created, each
having a hash table of size eight. Providing a large enough estimate at construction time
avoids the need for expensive resizing operations later, but setting this value unnecessarily
high wastes memory.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>initialCapacity</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if an initial capacity was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="concurrencyLevel(int)">
<h3>concurrencyLevel</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">concurrencyLevel</span><wbr><span class="parameters">(int&nbsp;concurrencyLevel)</span></div>
<div class="block">Guides the allowed concurrency among update operations. Used as a hint for internal sizing. The
table is internally partitioned to try to permit the indicated number of concurrent updates
without contention. Because assignment of entries to these partitions is not necessarily
uniform, the actual concurrency observed may vary. Ideally, you should choose a value to
accommodate as many threads as will ever concurrently modify the table. Using a significantly
higher value than you need can waste space and time, and a significantly lower value can lead
to thread contention. But overestimates and underestimates within an order of magnitude do not
usually have much noticeable impact. A value of one permits only one thread to modify the cache
at a time, but since read operations and cache loading computations can proceed concurrently,
this still yields higher concurrency than full synchronization.

<p>Defaults to 4. <b>Note:</b>The default may change in the future. If you care about this
value, you should always choose it explicitly.

<p>The current implementation uses the concurrency level to create a fixed number of hashtable
segments, each governed by its own write lock. The segment lock is taken once for each explicit
write, and twice for each cache loading computation (once prior to loading the new value, and
once after loading completes). Much internal cache management is performed at the segment
granularity. For example, access queues and write queues are kept per segment when they are
required by the selected eviction algorithm. As such, when writing unit tests it is not
uncommon to specify <code>concurrencyLevel(1)</code> in order to achieve more deterministic eviction
behavior.

<p>Note that future implementations may abandon segment locking in favor of more advanced
concurrency controls.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>concurrencyLevel</code> is nonpositive</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a concurrency level was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="maximumSize(long)">
<h3>maximumSize</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">maximumSize</span><wbr><span class="parameters">(long&nbsp;maximumSize)</span></div>
<div class="block">Specifies the maximum number of entries the cache may contain.

<p>Note that the cache <b>may evict an entry before this limit is exceeded</b>. For example, in
the current implementation, when <code>concurrencyLevel</code> is greater than <code>1</code>, each
resulting segment inside the cache <i>independently</i> limits its own size to approximately
<code>maximumSize / concurrencyLevel</code>.

<p>When eviction is necessary, the cache evicts entries that are less likely to be used again.
For example, the cache may evict an entry because it hasn't been used recently or very often.

<p>If <code>maximumSize</code> is zero, elements will be evicted immediately after being loaded into
cache. This can be useful in testing, or to disable caching temporarily.

<p>This feature cannot be used in conjunction with <code>maximumWeight</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maximumSize</code> - the maximum size of the cache</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>maximumSize</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a maximum size or weight was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="maximumWeight(long)">
<h3>maximumWeight</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">maximumWeight</span><wbr><span class="parameters">(long&nbsp;maximumWeight)</span></div>
<div class="block">Specifies the maximum weight of entries the cache may contain. Weight is determined using the
<a href="Weigher.html" title="interface in com.google.common.cache"><code>Weigher</code></a> specified with <code>weigher</code>, and use of this method requires a
corresponding call to <code>weigher</code> prior to calling <a href="#build(com.google.common.cache.CacheLoader)"><code>build(CacheLoader)</code></a>.

<p>Note that the cache <b>may evict an entry before this limit is exceeded</b>. For example, in
the current implementation, when <code>concurrencyLevel</code> is greater than <code>1</code>, each
resulting segment inside the cache <i>independently</i> limits its own weight to approximately
<code>maximumWeight / concurrencyLevel</code>.

<p>When eviction is necessary, the cache evicts entries that are less likely to be used again.
For example, the cache may evict an entry because it hasn't been used recently or very often.

<p>If <code>maximumWeight</code> is zero, elements will be evicted immediately after being loaded
into cache. This can be useful in testing, or to disable caching temporarily.

<p>Note that weight is only used to determine whether the cache is over capacity; it has no
effect on selecting which entry should be evicted next.

<p>This feature cannot be used in conjunction with <code>maximumSize</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maximumWeight</code> - the maximum total weight of entries the cache may contain</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>maximumWeight</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a maximum weight or size was already set</dd>
<dt>Since:</dt>
<dd>11.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="weigher(com.google.common.cache.Weigher)">
<h3>weigher</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>
<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;K1,<wbr>V1&gt;</span>&nbsp;<span class="element-name">weigher</span><wbr><span class="parameters">(<a href="Weigher.html" title="interface in com.google.common.cache">Weigher</a>&lt;? super K1, ? super V1&gt;&nbsp;weigher)</span></div>
<div class="block">Specifies the weigher to use in determining the weight of entries. Entry weight is taken into
consideration by <a href="#maximumWeight(long)"><code>maximumWeight(long)</code></a> when determining which entries to evict, and use
of this method requires a corresponding call to <a href="#maximumWeight(long)"><code>maximumWeight(long)</code></a> prior to calling
<a href="#build(com.google.common.cache.CacheLoader)"><code>build(CacheLoader)</code></a>. Weights are measured and recorded when entries are inserted into the cache, and
are thus effectively static during the lifetime of a cache entry.

<p>When the weight of an entry is zero it will not be considered for size-based eviction
(though it still may be evicted by other means).

<p><b>Important note:</b> Instead of returning <em>this</em> as a <code>CacheBuilder</code>
instance, this method returns <code>CacheBuilder&lt;K1, V1&gt;</code>. From this point on, either the
original reference or the returned reference may be used to complete configuration and build
the cache, but only the "generic" one is type-safe. That is, it will properly prevent you from
building caches whose key or value types are incompatible with the types accepted by the
weigher already provided; the <code>CacheBuilder</code> type cannot do this. For best results,
simply use the standard method-chaining idiom, as illustrated in the documentation at top,
configuring a <code>CacheBuilder</code> and building your <a href="Cache.html" title="interface in com.google.common.cache"><code>Cache</code></a> all in a single statement.

<p><b>Warning:</b> if you ignore the above advice, and use this <code>CacheBuilder</code> to build a
cache whose key or value type is incompatible with the weigher, you will likely experience a
<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link"><code>ClassCastException</code></a> at some <i>undefined</i> point in the future.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>weigher</code> - the weigher to use in calculating the weight of cache entries</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a weigher was already set or <a href="#maximumSize(long)"><code>maximumSize(long)</code></a> was
    previously called</dd>
<dt>Since:</dt>
<dd>11.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="weakKeys()">
<h3>weakKeys</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">weakKeys</span>()</div>
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).

<p><b>Warning:</b> when this method is used, the resulting cache will use identity (<code>==</code>)
comparison to determine equality of keys. Its <a href="Cache.html#asMap()"><code>Cache.asMap()</code></a> view will therefore
technically violate the <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link"><code>Map</code></a> specification (in the same way that <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/IdentityHashMap.html" title="class or interface in java.util" class="external-link"><code>IdentityHashMap</code></a>
does).

<p>Entries with keys that have been garbage collected may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but
will never be visible to read or write operations; such entries are cleaned up as part of the
routine maintenance described in the class javadoc.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the key strength was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="weakValues()">
<h3>weakValues</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">weakValues</span>()</div>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).

<p>Weak values will be garbage collected once they are weakly reachable. This makes them a poor
candidate for caching; consider <a href="#softValues()"><code>softValues()</code></a> instead.

<p><b>Note:</b> when this method is used, the resulting cache will use identity (<code>==</code>)
comparison to determine equality of values.

<p>Entries with values that have been garbage collected may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>,
but will never be visible to read or write operations; such entries are cleaned up as part of
the routine maintenance described in the class javadoc.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the value strength was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="softValues()">
<h3>softValues</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">softValues</span>()</div>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ref/SoftReference.html" title="class or interface in java.lang.ref" class="external-link"><code>SoftReference</code></a> (by default, strong references are used). Softly-referenced objects will be
garbage-collected in a <i>globally</i> least-recently-used manner, in response to memory
demand.

<p><b>Warning:</b> in most circumstances it is better to set a per-cache <a href="#maximumSize(long)">maximum size</a> instead of using soft references. You should only use this
method if you are well familiar with the practical consequences of soft references.

<p><b>Note:</b> when this method is used, the resulting cache will use identity (<code>==</code>)
comparison to determine equality of values.

<p>Entries with values that have been garbage collected may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>,
but will never be visible to read or write operations; such entries are cleaned up as part of
the routine maintenance described in the class javadoc.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the value strength was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="expireAfterWrite(java.time.Duration)">
<h3>expireAfterWrite</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://javadoc.io/doc/com.google.j2objc/j2objc-annotations/latest/com/google/j2objc/annotations/J2ObjCIncompatible.html" title="class or interface in com.google.j2objc.annotations" class="external-link">@J2ObjCIncompatible</a>
<a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">expireAfterWrite</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</span></div>
<div class="block">Specifies that each entry should be automatically removed from the cache once a fixed duration
has elapsed after the entry's creation, or the most recent replacement of its value.

<p>When <code>duration</code> is zero, this method hands off to <a href="#maximumSize(long)"><code>maximumSize</code></a><code>(0)</code>, ignoring any otherwise-specified maximum size or weight. This can be
useful in testing, or to disable caching temporarily without a code change.

<p>Expired entries may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will never be visible to read or
write operations. Expired entries are cleaned up as part of the routine maintenance described
in the class javadoc.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is created that it should be automatically
    removed</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite(Duration)</code></a> was already set</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ArithmeticException.html" title="class or interface in java.lang" class="external-link">ArithmeticException</a></code> - for durations greater than +/- approximately 292 years</dd>
<dt>Since:</dt>
<dd>25.0 (but only since 33.3.0 in the Android <a href="https://github.com/google/guava#guava-google-core-libraries-for-java">flavor</a>)</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="expireAfterWrite(long,java.util.concurrent.TimeUnit)">
<h3>expireAfterWrite</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">expireAfterWrite</span><wbr><span class="parameters">(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite(Duration)</code></a> instead.</div>
</div>
<div class="block">Specifies that each entry should be automatically removed from the cache once a fixed duration
has elapsed after the entry's creation, or the most recent replacement of its value.

<p>When <code>duration</code> is zero, this method hands off to <a href="#maximumSize(long)"><code>maximumSize</code></a><code>(0)</code>, ignoring any otherwise-specified maximum size or weight. This can be
useful in testing, or to disable caching temporarily without a code change.

<p>Expired entries may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will never be visible to read or
write operations. Expired entries are cleaned up as part of the routine maintenance described
in the class javadoc.

<p>If you can represent the duration as a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link"><code>Duration</code></a> (which should be preferred when
feasible), use <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite(Duration)</code></a> instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is created that it should be automatically
    removed</dd>
<dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#expireAfterWrite(java.time.Duration)"><code>expireAfterWrite(Duration)</code></a> was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="expireAfterAccess(java.time.Duration)">
<h3>expireAfterAccess</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://javadoc.io/doc/com.google.j2objc/j2objc-annotations/latest/com/google/j2objc/annotations/J2ObjCIncompatible.html" title="class or interface in com.google.j2objc.annotations" class="external-link">@J2ObjCIncompatible</a>
<a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">expireAfterAccess</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</span></div>
<div class="block">Specifies that each entry should be automatically removed from the cache once a fixed duration
has elapsed after the entry's creation, the most recent replacement of its value, or its last
access. Access time is reset by all cache read and write operations (including <code>
Cache.asMap().get(Object)</code> and <code>Cache.asMap().put(K, V)</code>), but not by <code>
containsKey(Object)</code>, nor by operations on the collection-views of <a href="Cache.html#asMap()"><code>Cache.asMap()</code></a>}. So,
for example, iterating through <code>Cache.asMap().entrySet()</code> does not reset access time for
the entries you retrieve.

<p>When <code>duration</code> is zero, this method hands off to <a href="#maximumSize(long)"><code>maximumSize</code></a><code>(0)</code>, ignoring any otherwise-specified maximum size or weight. This can be
useful in testing, or to disable caching temporarily without a code change.

<p>Expired entries may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will never be visible to read or
write operations. Expired entries are cleaned up as part of the routine maintenance described
in the class javadoc.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is last accessed that it should be
    automatically removed</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess(Duration)</code></a> was already set</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ArithmeticException.html" title="class or interface in java.lang" class="external-link">ArithmeticException</a></code> - for durations greater than +/- approximately 292 years</dd>
<dt>Since:</dt>
<dd>25.0 (but only since 33.3.0 in the Android <a href="https://github.com/google/guava#guava-google-core-libraries-for-java">flavor</a>)</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="expireAfterAccess(long,java.util.concurrent.TimeUnit)">
<h3>expireAfterAccess</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">expireAfterAccess</span><wbr><span class="parameters">(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess(Duration)</code></a> instead.</div>
</div>
<div class="block">Specifies that each entry should be automatically removed from the cache once a fixed duration
has elapsed after the entry's creation, the most recent replacement of its value, or its last
access. Access time is reset by all cache read and write operations (including <code>
Cache.asMap().get(Object)</code> and <code>Cache.asMap().put(K, V)</code>), but not by <code>
containsKey(Object)</code>, nor by operations on the collection-views of <a href="Cache.html#asMap()"><code>Cache.asMap()</code></a>. So, for
example, iterating through <code>Cache.asMap().entrySet()</code> does not reset access time for the
entries you retrieve.

<p>When <code>duration</code> is zero, this method hands off to <a href="#maximumSize(long)"><code>maximumSize</code></a><code>(0)</code>, ignoring any otherwise-specified maximum size or weight. This can be
useful in testing, or to disable caching temporarily without a code change.

<p>Expired entries may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will never be visible to read or
write operations. Expired entries are cleaned up as part of the routine maintenance described
in the class javadoc.

<p>If you can represent the duration as a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link"><code>Duration</code></a> (which should be preferred when
feasible), use <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess(Duration)</code></a> instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is last accessed that it should be
    automatically removed</dd>
<dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#expireAfterAccess(java.time.Duration)"><code>expireAfterAccess(Duration)</code></a> was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="refreshAfterWrite(java.time.Duration)">
<h3>refreshAfterWrite</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://javadoc.io/doc/com.google.j2objc/j2objc-annotations/latest/com/google/j2objc/annotations/J2ObjCIncompatible.html" title="class or interface in com.google.j2objc.annotations" class="external-link">@J2ObjCIncompatible</a>
<a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">refreshAfterWrite</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</span></div>
<div class="block">Specifies that active entries are eligible for automatic refresh once a fixed duration has
elapsed after the entry's creation, or the most recent replacement of its value. The semantics
of refreshes are specified in <a href="LoadingCache.html#refresh(K)"><code>LoadingCache.refresh(K)</code></a>, and are performed by calling <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a>.

<p>As the default implementation of <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a> is synchronous, it is
recommended that users of this method override <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a> with an asynchronous
implementation; otherwise refreshes will be performed during unrelated cache read and write
operations.

<p>Currently automatic refreshes are performed when the first stale request for an entry
occurs. The request triggering refresh will make a synchronous call to <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a>
to obtain a future of the new value. If the returned future is already complete, it is returned
immediately. Otherwise, the old value is returned.

<p><b>Note:</b> <i>all exceptions thrown during refresh will be logged and then swallowed</i>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is created that it should be considered
    stale, and thus eligible for refresh</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#refreshAfterWrite(java.time.Duration)"><code>refreshAfterWrite(Duration)</code></a> was already set</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ArithmeticException.html" title="class or interface in java.lang" class="external-link">ArithmeticException</a></code> - for durations greater than +/- approximately 292 years</dd>
<dt>Since:</dt>
<dd>25.0 (but only since 33.3.0 in the Android <a href="https://github.com/google/guava#guava-google-core-libraries-for-java">flavor</a>)</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="refreshAfterWrite(long,java.util.concurrent.TimeUnit)">
<h3>refreshAfterWrite</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="../annotations/GwtIncompatible.html" title="annotation in com.google.common.annotations">@GwtIncompatible</a>
<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">refreshAfterWrite</span><wbr><span class="parameters">(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use <a href="#refreshAfterWrite(java.time.Duration)"><code>refreshAfterWrite(Duration)</code></a> instead.</div>
</div>
<div class="block">Specifies that active entries are eligible for automatic refresh once a fixed duration has
elapsed after the entry's creation, or the most recent replacement of its value. The semantics
of refreshes are specified in <a href="LoadingCache.html#refresh(K)"><code>LoadingCache.refresh(K)</code></a>, and are performed by calling <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a>.

<p>As the default implementation of <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a> is synchronous, it is
recommended that users of this method override <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a> with an asynchronous
implementation; otherwise refreshes will be performed during unrelated cache read and write
operations.

<p>Currently automatic refreshes are performed when the first stale request for an entry
occurs. The request triggering refresh will make a synchronous call to <a href="CacheLoader.html#reload(K,V)"><code>CacheLoader.reload(K, V)</code></a>
and immediately return the new value if the returned future is complete, and the old value
otherwise.

<p><b>Note:</b> <i>all exceptions thrown during refresh will be logged and then swallowed</i>.

<p>If you can represent the duration as a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link"><code>Duration</code></a> (which should be preferred when
feasible), use <a href="#refreshAfterWrite(java.time.Duration)"><code>refreshAfterWrite(Duration)</code></a> instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is created that it should be considered
    stale, and thus eligible for refresh</dd>
<dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#refreshAfterWrite(java.time.Duration)"><code>refreshAfterWrite(Duration)</code></a> was already set</dd>
<dt>Since:</dt>
<dd>11.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="ticker(com.google.common.base.Ticker)">
<h3>ticker</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">ticker</span><wbr><span class="parameters">(<a href="../base/Ticker.html" title="class in com.google.common.base">Ticker</a>&nbsp;ticker)</span></div>
<div class="block">Specifies a nanosecond-precision time source for this cache. By default, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/System.html#nanoTime()" title="class or interface in java.lang" class="external-link"><code>System.nanoTime()</code></a> is used.

<p>The primary intent of this method is to facilitate testing of caches with a fake or mock
time source.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a ticker was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="removalListener(com.google.common.cache.RemovalListener)">
<h3>removalListener</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>
<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;K1,<wbr>V1&gt;</span>&nbsp;<span class="element-name">removalListener</span><wbr><span class="parameters">(<a href="RemovalListener.html" title="interface in com.google.common.cache">RemovalListener</a>&lt;? super K1, ? super V1&gt;&nbsp;listener)</span></div>
<div class="block">Specifies a listener instance that caches should notify each time an entry is removed for any
<a href="RemovalCause.html" title="enum in com.google.common.cache">reason</a>. Each cache created by this builder will invoke this listener
as part of the routine maintenance described in the class documentation above.

<p><b>Warning:</b> after invoking this method, do not continue to use <i>this</i> cache builder
reference; instead use the reference this method <i>returns</i>. At runtime, these point to the
same instance, but only the returned reference has the correct generic type information to
ensure type safety. For best results, use the standard method-chaining idiom illustrated in the
class documentation above, configuring a builder and building your cache in a single statement.
Failure to heed this advice can result in a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link"><code>ClassCastException</code></a> being thrown by a cache
operation at some <i>undefined</i> point in the future.

<p><b>Warning:</b> any exception thrown by <code>listener</code> will <i>not</i> be propagated to
the <code>Cache</code> user, only logged via a <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.logging/java/util/logging/Logger.html" title="class or interface in java.util.logging" class="external-link"><code>Logger</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the cache builder reference that should be used instead of <code>this</code> for any
    remaining configuration and cache building</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a removal listener was already set</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="recordStats()">
<h3>recordStats</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CanIgnoreReturnValue.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CanIgnoreReturnValue</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CacheBuilder.html" title="class in com.google.common.cache">CacheBuilder</a>&lt;<a href="#type-param-K" title="type parameter in CacheBuilder">K</a>,<wbr><a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">recordStats</span>()</div>
<div class="block">Enable the accumulation of <a href="CacheStats.html" title="class in com.google.common.cache"><code>CacheStats</code></a> during the operation of the cache. Without this
<a href="Cache.html#stats()"><code>Cache.stats()</code></a> will return zero for all statistics. Note that recording stats requires
bookkeeping to be performed with each operation, and thus imposes a performance penalty on
cache operation.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this <code>CacheBuilder</code> instance (for chaining)</dd>
<dt>Since:</dt>
<dd>12.0 (previously, stats collection was automatic)</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="build(com.google.common.cache.CacheLoader)">
<h3>build</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>
<span class="return-type"><a href="LoadingCache.html" title="interface in com.google.common.cache">LoadingCache</a>&lt;K1,<wbr>V1&gt;</span>&nbsp;<span class="element-name">build</span><wbr><span class="parameters">(<a href="CacheLoader.html" title="class in com.google.common.cache">CacheLoader</a>&lt;? super K1, V1&gt;&nbsp;loader)</span></div>
<div class="block">Builds a cache, which either returns an already-loaded value for a given key or atomically
computes or retrieves it using the supplied <code>CacheLoader</code>. If another thread is currently
loading the value for this key, simply waits for that thread to finish and returns its loaded
value. Note that multiple threads can concurrently load values for distinct keys.

<p>This method does not alter the state of this <code>CacheBuilder</code> instance, so it can be
invoked again to create multiple independent caches.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>loader</code> - the cache loader used to obtain new values</dd>
<dt>Returns:</dt>
<dd>a cache having the requested features</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="build()">
<h3>build</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;K1 extends <a href="#type-param-K" title="type parameter in CacheBuilder">K</a>, V1 extends <a href="#type-param-V" title="type parameter in CacheBuilder">V</a>&gt;</span>&nbsp;<span class="return-type"><a href="Cache.html" title="interface in com.google.common.cache">Cache</a>&lt;K1,<wbr>V1&gt;</span>&nbsp;<span class="element-name">build</span>()</div>
<div class="block">Builds a cache which does not automatically load values when keys are requested.

<p>Consider <a href="#build(com.google.common.cache.CacheLoader)"><code>build(CacheLoader)</code></a> instead, if it is feasible to implement a <code>
CacheLoader</code>.

<p>This method does not alter the state of this <code>CacheBuilder</code> instance, so it can be
invoked again to create multiple independent caches.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a cache having the requested features</dd>
<dt>Since:</dt>
<dd>11.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a string representation for this CacheBuilder instance. The exact form of the returned
string is not specified.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2010&#x2013;2026. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
